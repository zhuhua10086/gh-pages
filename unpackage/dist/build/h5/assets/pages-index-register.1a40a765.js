import{_ as e,A as a,o as r,a as l,w as s,g as o,d,f as i,B as t,r as u,C as n}from"./index-24046cc3.js";import{_ as m,a as p,b as c,c as f}from"./logo.5941f8d7.js";import{r as g}from"./uni-app.es.a6413866.js";import{p as h}from"./index.1c3b99c2.js";const M=e({data:()=>({registerModel:{email:"",userName:"",password:"",repassword:"",emailCode:""},emailCode:"123456",loading:!0,rules:{email:{rules:[{required:!0,errorMessage:"必填项"},{validateFunction:function(e,a,r,l){return null==a.match(/^([0-9a-zA-Z_.-])+@([0-9a-zA-Z_.-])+.([a-zA-Z]+)$/)&&l("邮件格式不正确"),!0}}]},userName:{rules:[{required:!0,errorMessage:"必填项"},{validateFunction:function(e,a,r,l){return null==a.match(/^[a-zA-Z0-9_-]{8,20}$/)&&l("用户账号长度8到20位（字母，数字，下划线，减号）"),!0}}]},password:{rules:[{required:!0,errorMessage:"必填项"},{validateFunction:function(e,a,r,l){return null==a.match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[^]{8,16}$/)&&l("至少8-16个字符，1个大写字母，1个小写字母和1个数字"),!0}}]},repassword:{rules:[{required:!0,errorMessage:"必填项"},{validateFunction:function(e,a,r,l){return a!==r.password&&l("两次输入密码不一致"),!0}}]},emailCode:{rules:[{required:!0,errorMessage:"必填项"},{validateFunction:function(e,a,r,l){return a==this.emailCode&&l("邮件验证码不一致"),!0}}]}}}),onReady(){this.$refs.myForm.setRules(this.rules)},methods:{btnRegister(){this.$refs.myForm.validate().then((()=>{h("api/mobile/eregister",this.registerModel).then((e=>{console.log("注册成功",e),a({url:"/pages/index/login"})})).catch((e=>{console.error("注册失败",e),this.$message.error("注册失败，请重试")}))})).catch((e=>{console.log("表单验证未通过",e),this.$message.error("请填写正确的信息")}))},btnEmailCode(){}}},[["render",function(e,a,h,M,_,V){const C=t,w=o,y=g(u("uni-easyinput"),p),q=g(u("uni-forms-item"),c),F=n,v=g(u("uni-forms"),f);return r(),l(w,null,{default:s((()=>[d(w,{class:"logo"},{default:s((()=>[d(C,{src:m})])),_:1}),d(v,{class:"myForm",ref:"myForm",modelValue:_.registerModel,rules:_.rules},{default:s((()=>[d(q,{name:"email",required:""},{default:s((()=>[d(y,{class:"input",inputmode:"email",modelValue:_.registerModel.email,"onUpdate:modelValue":a[0]||(a[0]=e=>_.registerModel.email=e),placeholder:"请输入电子邮箱","suffix-icon":"email"},null,8,["modelValue"])])),_:1}),d(q,{name:"userName",required:""},{default:s((()=>[d(y,{class:"input",modelValue:_.registerModel.userName,"onUpdate:modelValue":a[1]||(a[1]=e=>_.registerModel.userName=e),placeholder:"请输入用户账号","suffix-icon":"person"},null,8,["modelValue"])])),_:1}),d(q,{name:"emailCode",required:""},{default:s((()=>[d(w,{class:"myForm-emailCode"},{default:s((()=>[d(y,{class:"input",modelValue:_.registerModel.emailCode,"onUpdate:modelValue":a[2]||(a[2]=e=>_.registerModel.emailCode=e),placeholder:"请输入邮箱验证码"},null,8,["modelValue"]),d(F,{type:"default",size:"mini",loading:_.loading,onClick:V.btnEmailCode},{default:s((()=>[i("邮箱验证码")])),_:1},8,["loading","onClick"])])),_:1})])),_:1}),d(q,{name:"password",required:""},{default:s((()=>[d(y,{class:"input",type:"password",modelValue:_.registerModel.password,"onUpdate:modelValue":a[3]||(a[3]=e=>_.registerModel.password=e),placeholder:"请输入密码"},null,8,["modelValue"])])),_:1}),d(q,{name:"repassword",required:""},{default:s((()=>[d(y,{class:"input",type:"password",modelValue:_.registerModel.repassword,"onUpdate:modelValue":a[4]||(a[4]=e=>_.registerModel.repassword=e),placeholder:"请输入确认密码"},null,8,["modelValue"])])),_:1}),d(F,{type:"primary",onClick:V.btnRegister},{default:s((()=>[i("用户注册")])),_:1},8,["onClick"])])),_:1},8,["modelValue","rules"])])),_:1})}],["__scopeId","data-v-4868fa91"]]);export{M as default};
